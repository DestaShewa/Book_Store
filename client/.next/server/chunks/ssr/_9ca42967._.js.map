{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 5, "column": 0}, "map": {"version":3,"sources":["file:///D:/FStack/BookStoreToMe/client/app/book/%5Bid%5D/page.tsx"],"sourcesContent":["\"use client\"; // This tells Next.js it's an interactive Client Component\r\n\r\nimport { useState, useEffect } from \"react\";\r\n\r\n// Define the shape of our Book data using a TypeScript interface\r\ninterface Book {\r\n  id: number;\r\n  title: string;\r\n  author: string;\r\n  category: string;\r\n  description: string;\r\n  file_url: string; // The URL to the PDF file\r\n  cover_image_url: string; // The URL to the cover image\r\n}\r\n\r\n// This is our page component. It receives `params` as a prop from Next.js.\r\n// The `params` object contains the dynamic parts of the URL, in this case, the `id`.\r\nexport default function BookDetailPage({ params }: { params: { id: string } }) {\r\n  // State to hold the book data once we fetch it. Starts as 'null'.\r\n  const [book, setBook] = useState<Book | null>(null);\r\n\r\n  // State to hold any error messages. Starts as an empty string.\r\n  const [error, setError] = useState(\"\");\r\n\r\n  // State to track if the page is currently loading data.\r\n  const [isLoading, setIsLoading] = useState(true);\r\n\r\n  // The useEffect hook is perfect for fetching data when the component loads.\r\n  useEffect(() => {\r\n    // We define an async function inside the hook to fetch the data.\r\n    const fetchBookDetails = async () => {\r\n      try {\r\n        // Use the 'id' from the params to build the correct API URL.\r\n        const response = await fetch(\r\n          `http://localhost:5000/api/books/${params.id}`\r\n        );\r\n\r\n        if (!response.ok) {\r\n          // If the server responds with an error (like 404), we handle it.\r\n          throw new Error(\"Book not found or server error.\");\r\n        }\r\n\r\n        const data = await response.json();\r\n        setBook(data); // Put the fetched book data into our state.\r\n      } catch (err) {\r\n        // If the fetch itself fails (e.g., network error), we handle it.\r\n        setError(\"Failed to fetch book details. Please try again.\");\r\n      } finally {\r\n        // This 'finally' block runs whether the fetch succeeded or failed.\r\n        // It's the perfect place to turn off the loading indicator.\r\n        setIsLoading(false);\r\n      }\r\n    };\r\n\r\n    fetchBookDetails();\r\n  }, [params.id]); // The dependency array: This tells React to re-run the effect ONLY if `params.id` changes.\r\n\r\n  // --- Render logic based on the state ---\r\n\r\n  // 1. If we are still loading, show a simple loading message.\r\n  if (isLoading) {\r\n    return <p className=\"text-center text-lg mt-10\">Loading...</p>;\r\n  }\r\n\r\n  // 2. If an error occurred, show the error message.\r\n  if (error) {\r\n    return <p className=\"text-center text-red-500 text-lg mt-10\">{error}</p>;\r\n  }\r\n\r\n  // 3. If loading is done and there's no book, show a not found message.\r\n  if (!book) {\r\n    return (\r\n      <p className=\"text-center text-lg mt-10\">Book could not be found.</p>\r\n    );\r\n  }\r\n\r\n  // 4. If everything is successful, display the book details.\r\n  return (\r\n    <div className=\"container mx-auto p-6\">\r\n      <div className=\"bg-white p-8 rounded-lg shadow-lg grid grid-cols-1 md:grid-cols-3 gap-8\">\r\n        <div className=\"md:col-span-1\">\r\n          <img\r\n            src={book.cover_image_url}\r\n            alt={`Cover of ${book.title}`}\r\n            className=\"w-full h-auto object-cover rounded-lg shadow-md\"\r\n          />\r\n        </div>\r\n        <div className=\"md:col-span-2\">\r\n          <h1 className=\"text-4xl font-bold mb-2\">{book.title}</h1>\r\n          <h2 className=\"text-2xl text-gray-600 mb-4\">by {book.author}</h2>\r\n          <p className=\"text-lg bg-gray-100 inline-block px-3 py-1 rounded-full mb-6\">\r\n            {book.category}\r\n          </p>\r\n          <h3 className=\"text-xl font-semibold mb-2\">Description</h3>\r\n          <p className=\"text-gray-700 mb-8\">{book.description}</p>\r\n          <div className=\"flex items-center gap-4\">\r\n            <a\r\n              href={book.file_url}\r\n              target=\"_blank\"\r\n              rel=\"noopener noreferrer\"\r\n              className=\"px-6 py-3 bg-blue-500 text-white font-semibold rounded-lg hover:bg-blue-600 transition-colors\"\r\n            >\r\n              Read Online (View PDF)\r\n            </a>\r\n            <a\r\n              href={book.file_url}\r\n              download\r\n              className=\"px-6 py-3 bg-green-500 text-white font-semibold rounded-lg hover:bg-green-600 transition-colors\"\r\n            >\r\n              Download File\r\n            </a>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;AAEA;AAFA,cAAc,0DAA0D;;;AAiBzD,SAAS,eAAe,EAAE,MAAM,EAA8B;IAC3E,kEAAkE;IAClE,MAAM,CAAC,MAAM,QAAQ,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAe;IAE9C,+DAA+D;IAC/D,MAAM,CAAC,OAAO,SAAS,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IAEnC,wDAAwD;IACxD,MAAM,CAAC,WAAW,aAAa,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IAE3C,4EAA4E;IAC5E,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACR,iEAAiE;QACjE,MAAM,mBAAmB;YACvB,IAAI;gBACF,6DAA6D;gBAC7D,MAAM,WAAW,MAAM,MACrB,CAAC,gCAAgC,EAAE,OAAO,EAAE,EAAE;gBAGhD,IAAI,CAAC,SAAS,EAAE,EAAE;oBAChB,iEAAiE;oBACjE,MAAM,IAAI,MAAM;gBAClB;gBAEA,MAAM,OAAO,MAAM,SAAS,IAAI;gBAChC,QAAQ,OAAO,4CAA4C;YAC7D,EAAE,OAAO,KAAK;gBACZ,iEAAiE;gBACjE,SAAS;YACX,SAAU;gBACR,mEAAmE;gBACnE,4DAA4D;gBAC5D,aAAa;YACf;QACF;QAEA;IACF,GAAG;QAAC,OAAO,EAAE;KAAC,GAAG,2FAA2F;IAE5G,0CAA0C;IAE1C,6DAA6D;IAC7D,IAAI,WAAW;QACb,qBAAO,8OAAC;YAAE,WAAU;sBAA4B;;;;;;IAClD;IAEA,mDAAmD;IACnD,IAAI,OAAO;QACT,qBAAO,8OAAC;YAAE,WAAU;sBAA0C;;;;;;IAChE;IAEA,uEAAuE;IACvE,IAAI,CAAC,MAAM;QACT,qBACE,8OAAC;YAAE,WAAU;sBAA4B;;;;;;IAE7C;IAEA,4DAA4D;IAC5D,qBACE,8OAAC;QAAI,WAAU;kBACb,cAAA,8OAAC;YAAI,WAAU;;8BACb,8OAAC;oBAAI,WAAU;8BACb,cAAA,8OAAC;wBACC,KAAK,KAAK,eAAe;wBACzB,KAAK,CAAC,SAAS,EAAE,KAAK,KAAK,EAAE;wBAC7B,WAAU;;;;;;;;;;;8BAGd,8OAAC;oBAAI,WAAU;;sCACb,8OAAC;4BAAG,WAAU;sCAA2B,KAAK,KAAK;;;;;;sCACnD,8OAAC;4BAAG,WAAU;;gCAA8B;gCAAI,KAAK,MAAM;;;;;;;sCAC3D,8OAAC;4BAAE,WAAU;sCACV,KAAK,QAAQ;;;;;;sCAEhB,8OAAC;4BAAG,WAAU;sCAA6B;;;;;;sCAC3C,8OAAC;4BAAE,WAAU;sCAAsB,KAAK,WAAW;;;;;;sCACnD,8OAAC;4BAAI,WAAU;;8CACb,8OAAC;oCACC,MAAM,KAAK,QAAQ;oCACnB,QAAO;oCACP,KAAI;oCACJ,WAAU;8CACX;;;;;;8CAGD,8OAAC;oCACC,MAAM,KAAK,QAAQ;oCACnB,QAAQ;oCACR,WAAU;8CACX;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAQb","debugId":null}},
    {"offset": {"line": 202, "column": 0}, "map": {"version":3,"sources":["file:///D:/FStack/BookStoreToMe/client/node_modules/next/src/server/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.ts"],"sourcesContent":["module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['react-ssr']!.ReactJsxDevRuntime\n"],"names":["module","exports","require","vendored","ReactJsxDevRuntime"],"mappings":"AAAAA,OAAOC,OAAO,GACZC,QAAQ,4HACRC,QAAQ,CAAC,YAAY,CAAEC,kBAAkB","ignoreList":[0],"debugId":null}}]
}