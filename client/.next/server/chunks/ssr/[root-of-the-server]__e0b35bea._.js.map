{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 13, "column": 0}, "map": {"version":3,"sources":["file:///D:/FStack/BookStoreToMe/client/app/page.tsx"],"sourcesContent":["\"use client\"; // This is now a Client Component\n\nimport { useState, useEffect } from \"react\";\n\n// The TypeScript interface for our book data remains the same\ninterface Book {\n  id: number;\n  title: string;\n  author: string;\n  category: string;\n  file_url: string;\n}\n\nexport default function HomePage() {\n  // State to hold the list of books we are currently displaying\n  const [books, setBooks] = useState<Book[]>([]);\n  // State to hold the text the user types into the search bar\n  const [searchQuery, setSearchQuery] = useState(\"\");\n  // State for any error messages\n  const [error, setError] = useState(\"\");\n\n  // This function fetches all books and will run when the page first loads\n  const fetchAllBooks = async () => {\n    try {\n      const res = await fetch(\"http://localhost:5000/api/books\", {\n        cache: \"no-store\",\n      });\n      if (!res.ok) throw new Error(\"Failed to fetch books\");\n      const data = await res.json();\n      setBooks(data);\n    } catch (err) {\n      setError(\"Could not load books. Please try again later.\");\n    }\n  };\n\n  // The useEffect hook runs code when the component first mounts (loads)\n  useEffect(() => {\n    fetchAllBooks();\n  }, []); // The empty array [] means this effect runs only once\n\n  // This function is called when the user clicks the \"Search\" button\n  const handleSearch = async (e: React.FormEvent) => {\n    e.preventDefault(); // Prevent the form from reloading the page\n    if (!searchQuery.trim()) {\n      // If the search bar is empty, just show all books\n      fetchAllBooks();\n      return;\n    }\n\n    try {\n      const res = await fetch(\n        `http://localhost:5000/api/books/search?title=${searchQuery}`\n      );\n      if (!res.ok) throw new Error(\"Search failed\");\n      const data = await res.json();\n      setBooks(data);\n    } catch (err) {\n      setError(\"Search failed. Please try again.\");\n    }\n  };\n\n  return (\n    <div>\n      <h1 className=\"text-3xl font-bold text-center my-8\">\n        Welcome to the Bookstore\n      </h1>\n\n      {/* Search Form */}\n      <div className=\"flex justify-center mb-8\">\n        <form onSubmit={handleSearch} className=\"flex gap-2 w-full max-w-lg\">\n          <input\n            type=\"text\"\n            value={searchQuery}\n            onChange={(e) => setSearchQuery(e.target.value)}\n            placeholder=\"Search for a book by title...\"\n            className=\"flex-grow px-4 py-2 border rounded-lg\"\n          />\n          <button\n            type=\"submit\"\n            className=\"px-6 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600\"\n          >\n            Search\n          </button>\n        </form>\n      </div>\n\n      {/* Error Message Display */}\n      {error && <p className=\"text-red-500 text-center mb-4\">{error}</p>}\n\n      {/* Book Grid */}\n      <div className=\"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-4 gap-6 p-4\">\n        {books.length > 0 ? (\n          books.map((book) => (\n            <div key={book.id} className=\"border p-4 rounded-lg shadow-md\">\n              <img\n                src={book.file_url}\n                alt={book.title}\n                className=\"w-full h-64 object-cover mb-4 rounded\"\n              />\n              <h2 className=\"text-xl font-bold\">{book.title}</h2>\n              <p className=\"text-gray-600\">by {book.author}</p>\n              <p className=\"text-sm mt-2 bg-gray-100 inline-block px-2 py-1 rounded\">\n                {book.category}\n              </p>\n            </div>\n          ))\n        ) : (\n          <p className=\"col-span-full text-center text-gray-500\">\n            No books found.\n          </p>\n        )}\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;AAEA;AAFA,cAAc,iCAAiC;;;AAahC,SAAS;IACtB,8DAA8D;IAC9D,MAAM,CAAC,OAAO,SAAS,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAU,EAAE;IAC7C,4DAA4D;IAC5D,MAAM,CAAC,aAAa,eAAe,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IAC/C,+BAA+B;IAC/B,MAAM,CAAC,OAAO,SAAS,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IAEnC,yEAAyE;IACzE,MAAM,gBAAgB;QACpB,IAAI;YACF,MAAM,MAAM,MAAM,MAAM,mCAAmC;gBACzD,OAAO;YACT;YACA,IAAI,CAAC,IAAI,EAAE,EAAE,MAAM,IAAI,MAAM;YAC7B,MAAM,OAAO,MAAM,IAAI,IAAI;YAC3B,SAAS;QACX,EAAE,OAAO,KAAK;YACZ,SAAS;QACX;IACF;IAEA,uEAAuE;IACvE,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACR;IACF,GAAG,EAAE,GAAG,sDAAsD;IAE9D,mEAAmE;IACnE,MAAM,eAAe,OAAO;QAC1B,EAAE,cAAc,IAAI,2CAA2C;QAC/D,IAAI,CAAC,YAAY,IAAI,IAAI;YACvB,kDAAkD;YAClD;YACA;QACF;QAEA,IAAI;YACF,MAAM,MAAM,MAAM,MAChB,CAAC,6CAA6C,EAAE,aAAa;YAE/D,IAAI,CAAC,IAAI,EAAE,EAAE,MAAM,IAAI,MAAM;YAC7B,MAAM,OAAO,MAAM,IAAI,IAAI;YAC3B,SAAS;QACX,EAAE,OAAO,KAAK;YACZ,SAAS;QACX;IACF;IAEA,qBACE,8OAAC;;0BACC,8OAAC;gBAAG,WAAU;0BAAsC;;;;;;0BAKpD,8OAAC;gBAAI,WAAU;0BACb,cAAA,8OAAC;oBAAK,UAAU;oBAAc,WAAU;;sCACtC,8OAAC;4BACC,MAAK;4BACL,OAAO;4BACP,UAAU,CAAC,IAAM,eAAe,EAAE,MAAM,CAAC,KAAK;4BAC9C,aAAY;4BACZ,WAAU;;;;;;sCAEZ,8OAAC;4BACC,MAAK;4BACL,WAAU;sCACX;;;;;;;;;;;;;;;;;YAOJ,uBAAS,8OAAC;gBAAE,WAAU;0BAAiC;;;;;;0BAGxD,8OAAC;gBAAI,WAAU;0BACZ,MAAM,MAAM,GAAG,IACd,MAAM,GAAG,CAAC,CAAC,qBACT,8OAAC;wBAAkB,WAAU;;0CAC3B,8OAAC;gCACC,KAAK,KAAK,QAAQ;gCAClB,KAAK,KAAK,KAAK;gCACf,WAAU;;;;;;0CAEZ,8OAAC;gCAAG,WAAU;0CAAqB,KAAK,KAAK;;;;;;0CAC7C,8OAAC;gCAAE,WAAU;;oCAAgB;oCAAI,KAAK,MAAM;;;;;;;0CAC5C,8OAAC;gCAAE,WAAU;0CACV,KAAK,QAAQ;;;;;;;uBATR,KAAK,EAAE;;;;8CAcnB,8OAAC;oBAAE,WAAU;8BAA0C;;;;;;;;;;;;;;;;;AAOjE","debugId":null}},
    {"offset": {"line": 189, "column": 0}, "map": {"version":3,"sources":["file:///D:/FStack/BookStoreToMe/client/node_modules/next/src/server/route-modules/app-page/module.compiled.js"],"sourcesContent":["if (process.env.NEXT_RUNTIME === 'edge') {\n  module.exports = require('next/dist/server/route-modules/app-page/module.js')\n} else {\n  if (process.env.__NEXT_EXPERIMENTAL_REACT) {\n    if (process.env.NODE_ENV === 'development') {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo-experimental.runtime.dev.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page-experimental.runtime.dev.js')\n      }\n    } else {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo-experimental.runtime.prod.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page-experimental.runtime.prod.js')\n      }\n    }\n  } else {\n    if (process.env.NODE_ENV === 'development') {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo.runtime.dev.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page.runtime.dev.js')\n      }\n    } else {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo.runtime.prod.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page.runtime.prod.js')\n      }\n    }\n  }\n}\n"],"names":["process","env","NEXT_RUNTIME","module","exports","require","__NEXT_EXPERIMENTAL_REACT","NODE_ENV","TURBOPACK"],"mappings":"AAAA,IAAIA,QAAQC,GAAG,CAACC,YAAY,KAAK,QAAQ;;KAElC;IACL,IAAIF,QAAQC,GAAG,CAACK,yBAAyB,EAAE;;SAcpC;QACL,IAAIN,QAAQC,GAAG,CAACM,QAAQ,KAAK,WAAe;YAC1C,IAAIP,QAAQC,GAAG,CAACO,SAAS,eAAE;gBACzBL,OAAOC,OAAO,GAAGC,QAAQ;YAC3B,OAAO;;QAGT,OAAO;;IAOT;AACF","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 210, "column": 0}, "map": {"version":3,"sources":["file:///D:/FStack/BookStoreToMe/client/node_modules/next/src/server/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.ts"],"sourcesContent":["module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['react-ssr']!.ReactJsxDevRuntime\n"],"names":["module","exports","require","vendored","ReactJsxDevRuntime"],"mappings":"AAAAA,OAAOC,OAAO,GACZC,QAAQ,4HACRC,QAAQ,CAAC,YAAY,CAAEC,kBAAkB","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 217, "column": 0}, "map": {"version":3,"sources":["file:///D:/FStack/BookStoreToMe/client/node_modules/next/src/server/route-modules/app-page/vendored/ssr/react.ts"],"sourcesContent":["module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['react-ssr']!.React\n"],"names":["module","exports","require","vendored","React"],"mappings":"AAAAA,OAAOC,OAAO,GACZC,QAAQ,4HACRC,QAAQ,CAAC,YAAY,CAAEC,KAAK","ignoreList":[0],"debugId":null}}]
}