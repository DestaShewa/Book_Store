{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///D:/FStack/BookStoreToMe/client/app/book/%5Bid%5D/page.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useState, useEffect } from \"react\";\r\nimport Image from \"next/image\";\r\n\r\n// TypeScript interface for a single book's data\r\ninterface Book {\r\n  id: number;\r\n  title: string;\r\n  author: string;\r\n  category: string;\r\n  description: string;\r\n  file_url: string; // This is the PDF url\r\n  cover_image_url: string;\r\n}\r\n\r\n// The page component receives 'params' which contains the book's 'id' from the URL\r\nexport default function BookDetailPage({ params }: { params: { id: string } }) {\r\n  const [book, setBook] = useState<Book | null>(null);\r\n  const [error, setError] = useState(\"\");\r\n\r\n  useEffect(() => {\r\n    // Fetch the specific book's data when the page loads\r\n    const fetchBook = async () => {\r\n      try {\r\n        const res = await fetch(`http://localhost:5000/api/books/${params.id}`);\r\n        if (!res.ok) {\r\n          throw new Error(\"Book not found\");\r\n        }\r\n        const data = await res.json();\r\n        setBook(data);\r\n      } catch {\r\n        setError(\"Failed to load book details.\");\r\n      }\r\n    };\r\n\r\n    fetchBook();\r\n  }, [params.id]); // The effect re-runs if the id in the URL changes\r\n\r\n  // Display a loading message while the data is being fetched\r\n  if (!book && !error) {\r\n    return <p className=\"text-center mt-10\">Loading book details...</p>;\r\n  }\r\n\r\n  // Display an error message if the fetch failed\r\n  if (error) {\r\n    return <p className=\"text-center text-red-500 mt-10\">{error}</p>;\r\n  }\r\n\r\n  return (\r\n    <div className=\"container mx-auto p-6\">\r\n      <div className=\"bg-white p-8 rounded-lg shadow-lg grid grid-cols-1 md:grid-cols-3 gap-8\">\r\n        {/* Left Side: Cover Image */}\r\n        <Image\r\n          src={book?.cover_image_url || \"\"}\r\n          alt={book?.title || \"Book Cover\"}\r\n          width={400}\r\n          height={600}\r\n          className=\"w-full h-auto object-cover rounded-lg shadow-md\"\r\n          priority\r\n        />\r\n\r\n        {/* Right Side: Book Details */}\r\n        <div className=\"md:col-span-2\">\r\n          <h1 className=\"text-4xl font-bold mb-2\">{book?.title}</h1>\r\n          <h2 className=\"text-2xl text-gray-600 mb-4\">by {book?.author}</h2>\r\n          <p className=\"text-lg bg-gray-100 inline-block px-3 py-1 rounded-full mb-6\">\r\n            {book?.category}\r\n          </p>\r\n\r\n          <h3 className=\"text-xl font-semibold mb-2\">Description</h3>\r\n          <p className=\"text-gray-700 mb-8\">{book?.description}</p>\r\n\r\n          {/* Action Buttons */}\r\n          <div className=\"flex items-center gap-4\">\r\n            {/* \"Read Online\" button opens the PDF in a new browser tab */}\r\n            <a\r\n              href={book?.file_url}\r\n              target=\"_blank\"\r\n              rel=\"noopener noreferrer\"\r\n              className=\"px-6 py-3 bg-blue-500 text-white font-semibold rounded-lg hover:bg-blue-600 transition-colors\"\r\n            >\r\n              Read Online (View PDF)\r\n            </a>\r\n\r\n            {/* \"Download File\" button uses the 'download' attribute to prompt a download */}\r\n            <a\r\n              href={book?.file_url}\r\n              download\r\n              className=\"px-6 py-3 bg-green-500 text-white font-semibold rounded-lg hover:bg-green-600 transition-colors\"\r\n            >\r\n              Download File\r\n            </a>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;AAEA;AACA;;;AAHA;;;AAiBe,SAAS,eAAe,KAAsC;QAAtC,EAAE,MAAM,EAA8B,GAAtC;;IACrC,MAAM,CAAC,MAAM,QAAQ,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAe;IAC9C,MAAM,CAAC,OAAO,SAAS,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IAEnC,CAAA,GAAA,6JAAA,CAAA,YAAS,AAAD;oCAAE;YACR,qDAAqD;YACrD,MAAM;sDAAY;oBAChB,IAAI;wBACF,MAAM,MAAM,MAAM,MAAM,AAAC,mCAA4C,OAAV,OAAO,EAAE;wBACpE,IAAI,CAAC,IAAI,EAAE,EAAE;4BACX,MAAM,IAAI,MAAM;wBAClB;wBACA,MAAM,OAAO,MAAM,IAAI,IAAI;wBAC3B,QAAQ;oBACV,EAAE,UAAM;wBACN,SAAS;oBACX;gBACF;;YAEA;QACF;mCAAG;QAAC,OAAO,EAAE;KAAC,GAAG,kDAAkD;IAEnE,4DAA4D;IAC5D,IAAI,CAAC,QAAQ,CAAC,OAAO;QACnB,qBAAO,6LAAC;YAAE,WAAU;sBAAoB;;;;;;IAC1C;IAEA,+CAA+C;IAC/C,IAAI,OAAO;QACT,qBAAO,6LAAC;YAAE,WAAU;sBAAkC;;;;;;IACxD;IAEA,qBACE,6LAAC;QAAI,WAAU;kBACb,cAAA,6LAAC;YAAI,WAAU;;8BAEb,6LAAC,gIAAA,CAAA,UAAK;oBACJ,KAAK,CAAA,iBAAA,2BAAA,KAAM,eAAe,KAAI;oBAC9B,KAAK,CAAA,iBAAA,2BAAA,KAAM,KAAK,KAAI;oBACpB,OAAO;oBACP,QAAQ;oBACR,WAAU;oBACV,QAAQ;;;;;;8BAIV,6LAAC;oBAAI,WAAU;;sCACb,6LAAC;4BAAG,WAAU;sCAA2B,iBAAA,2BAAA,KAAM,KAAK;;;;;;sCACpD,6LAAC;4BAAG,WAAU;;gCAA8B;gCAAI,iBAAA,2BAAA,KAAM,MAAM;;;;;;;sCAC5D,6LAAC;4BAAE,WAAU;sCACV,iBAAA,2BAAA,KAAM,QAAQ;;;;;;sCAGjB,6LAAC;4BAAG,WAAU;sCAA6B;;;;;;sCAC3C,6LAAC;4BAAE,WAAU;sCAAsB,iBAAA,2BAAA,KAAM,WAAW;;;;;;sCAGpD,6LAAC;4BAAI,WAAU;;8CAEb,6LAAC;oCACC,IAAI,EAAE,iBAAA,2BAAA,KAAM,QAAQ;oCACpB,QAAO;oCACP,KAAI;oCACJ,WAAU;8CACX;;;;;;8CAKD,6LAAC;oCACC,IAAI,EAAE,iBAAA,2BAAA,KAAM,QAAQ;oCACpB,QAAQ;oCACR,WAAU;8CACX;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAQb;GAjFwB;KAAA","debugId":null}}]
}